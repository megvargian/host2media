<template>
  <section class="pt-[42px]">
    <div class="w-full z-1 relative">
      <img
        class="w-full -z-1 sm:h-auto h-[200px]"
        src="~/assets/images/contact-us-main.png"
        alt="banner"
      />
      <h1
        class="leading-tight sm:text-4xl md:lg:text-5xl md:text-4xl sm:text-[36px] text-center text-[36px] text-white font-bold absolute left-0 right-0 top-[5%] lg:top-1/2 lg:left-1/2 lg:transform lg:-translate-x-1/2 lg:-translate-y-1/2"
      >
        Contact Us, <br />
        Weâ€™re Just a Click Away!
      </h1>
      <div
        class="container w-full mx-auto lg:absolute lg:right-0 lg:left-0 relative top-[80%]"
      >
        <div
          class="grid grid-cols-12 lg:gap-10 gap-5 lg:py-10 pb-10 lg:mx-0 relative top-[-20px]"
        >
          <div
            class="lg:col-span-4 col-span-12 bg-white sm:p-5 p-3 rounded-md xl:!pb-16 sm:mx-0 mx-6"
          >
            <div class="flex justify-center items-center pr-32 sm:pb-10 pb-5">
              <img
                class="md:w-12 md:h-12 w-8 h-8"
                src="~/assets/icons/ask.png"
                alt="ask"
              />
            </div>
            <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
              Knowledge Base
            </p>
            <p class="text-[#0F132A]">
              Step-by-step guides. Frequently Asked
              <br class="sm:flex hidden" />
              Questions. Self-help at your fingertips.
            </p>
          </div>
          <div
            class="lg:col-span-4 col-span-12 bg-white sm:p-5 p-3 rounded-md xl:!pb-16 sm:mx-0 mx-6"
          >
            <div class="flex justify-center items-center pr-32 sm:pb-10 pb-5">
              <img
                class="md:w-12 md:h-12 w-8 h-8"
                src="~/assets/icons/status.png"
                alt="status"
              />
            </div>
            <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
              Service Status
            </p>
            <p class="text-[#0F132A]">
              Current operational status of all <br class="sm:flex hidden" />
              Host2Media Services.
            </p>
          </div>
          <div
            class="lg:col-span-4 col-span-12 bg-white sm:p-5 p-3 rounded-md xl:!pb-16 sm:mx-0 mx-6"
          >
            <div class="flex justify-center items-center pr-32 sm:pb-10 pb-5">
              <img
                class="md:w-12 md:h-12 w-8 h-8"
                src="~/assets/icons/blog.png"
                alt="blog"
              />
            </div>
            <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
              Blog
            </p>
            <p class="text-[#0F132A]">
              Step-by-step guides. Frequently Asked
              <br class="sm:flex hidden" />
              Questions. Self-help at your fingertips.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="lg:pt-64 pb-10">
    <div class="container mx-auto flex justify-center items-center pb-6">
      <h2
        class="leading-tight lg:text-5xl md:text-4xl sm:text-[36px] text-[25px] lg:text-left text-center text-[#0F132A] font-black pb-5"
      >
        Around-The-Clock <br class="sm:flex hidden" />
        In-House Support
      </h2>
    </div>
    <div class="container mx-auto flex justify-center itmes-center">
      <p class="text-center sm:mx-0 mx-4">
        Customers trust Host2Media as their trusted online web hosting
        solution,<br class="sm:flex hidden" />
        our support team of in-house hosting professionals is accessible round
        the clock. <br class="sm:flex hidden" />With the support of Host2Media
        technical team representatives, support is always just a quick message
        away<br class="sm:flex hidden" />
        via email, web chat or WhatsApp
      </p>
    </div>
  </section>
  <section class="relative">
    <div class="bg-[#5564AD] py-10">
      <div class="container w-full mx-auto">
        <div class="grid grid-cols-12 gap-4 py-10">
          <div
            class="lg:col-span-6 col-span-12 flex lg:justify-start justify-center lg:pl-10"
          >
            <h2
              class="leading-tight lg:text-5xl md:text-4xl sm:text-[36px] text-[25px] lg:text-left text-center font-bold text-white"
            >
              An Online Solution <br class="sm:flex hidden" />
              You can Trust
            </h2>
          </div>
          <div
            class="lg:col-span-6 col-span-12 order-2 flex justify-center items-center mx-5 lg:pb-0 sm:pb-32"
          >
            <div class="w-full">
              <p class="text-white lg:text-left text-center">
                Our Technical Support team is fully empowered to collaborate
                effectively in reaching your online goals. Whether you need
                assistance with your hosting solutions or guidance for enhancing
                your website, we have the expertise to assist you. Our support
                team members are equipped to address a diverse range of
                challenges.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="relative">
    <div
      class="custom-container mx-auto z-2 bg-white rounded-[50px] mx-10 relative top-[-50px]"
    >
      <div class="px-10 flex justify-center items-center">
        <div class="rounded-[50px] pt-10">
          <div class="grid grid-cols-12 lg:gap-16 gap-5">
            <div class="col-span-12 flex justify-center items-center">
              <div>
                <h2
                  class="leading-tight lg:text-5xl md:text-4xl sm:text-[36px] text-[25px] lg:text-left text-center text-[#0F132A] font-black"
                >
                  How can we help?
                </h2>
              </div>
            </div>
            <div class="lg:col-span-4 sm:col-span-6 col-span-12">
              <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
                Business Hours
              </p>
              <p class="text-[#0F132A]">
                9:00 am - 16:30 CET <br class="sm:flex hidden" />
                Monday - Friday
              </p>
            </div>
            <div class="lg:col-span-4 sm:col-span-6 col-span-12">
              <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
                Telephone / WhatsApp
              </p>
              <p class="text-[#0F132A]">
                9:00 am - 16:30 CET <br class="sm:flex hidden" />
                Monday - Friday
              </p>
            </div>
            <div class="lg:col-span-4 sm:col-span-6 col-span-12">
              <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
                Chamber of commerce
              </p>
              <p class="text-[#0F132A]">
                ROC : 1012140 <br class="sm:flex hidden" />
                MOF : 2386821
              </p>
            </div>
            <div class="lg:col-span-4 sm:col-span-6 col-span-12">
              <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
                Public Holidays
              </p>
              <p class="text-[#0F132A]">View holidays</p>
            </div>
            <div class="lg:col-span-4 sm:col-span-6 col-span-12">
              <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
                Address
              </p>
              <p class="text-[#0F132A]">
                Host2Media,<br class="sm:flex hidden" />
                Makdesi 2034 1111 <br class="sm:flex hidden" />Hamra Beirut 07
              </p>
            </div>
            <div class="lg:col-span-4 sm:col-span-6 col-span-12">
              <p class="text-[#0F132A] text-lg Mulish-Black font-black pb-4">
                Email
              </p>
              <p class="text-[#0F132A]">
                sale@host2media.com <br class="sm:flex hidden" />
                support@host2media.com <br class="sm:flex hidden" />
                abuse@host2media.com <br class="sm:flex hidden" />
                legal@host2media.com
              </p>
            </div>
          </div>
          <div class="contact-us-form py-8">
            <form v-if="!sendSuccess" @submit.prevent="submitContactUsForm">
              <div class="grid grid-cols-12 lg:gap-7 gap-5">
                <div class="lg:col-span-6 col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="name"
                      >First Name</label
                    >
                    <input
                      class="rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 outline-none"
                      type="text"
                      required
                      name="name"
                      v-model="contactFormData.name"
                    />
                  </div>
                </div>
                <div class="lg:col-span-6 col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="lastName"
                      >Last Name</label
                    >
                    <input
                      class="rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 outline-none"
                      type="text"
                      required
                      name="lastName"
                      v-model="contactFormData.lastName"
                    />
                  </div>
                </div>
                <div class="lg:col-span-6 col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="companyName"
                      >Company Name</label
                    >
                    <input
                      class="rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 outline-none"
                      type="text"
                      required
                      name="companyName"
                      v-model="contactFormData.companyName"
                    />
                  </div>
                </div>
                <div class="lg:col-span-6 col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="phoneNumber"
                      >Phone Number</label
                    >
                    <input
                      class="rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 outline-none"
                      type="tel"
                      required
                      name="phoneNumber"
                      v-model="contactFormData.phoneNumber"
                    />
                  </div>
                </div>
                <div class="lg:col-span-6 col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="email"
                      >Email</label
                    >
                    <input
                      class="rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 outline-none"
                      type="email"
                      required
                      name="email"
                      v-model="contactFormData.email"
                    />
                  </div>
                </div>
                <div class="lg:col-span-6 col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="inquiry"
                      >Inquiry Department</label
                    >
                    <div class="relative">
                      <select
                        class="appearance-none rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 bg-transparent outline-none focus:outline-none"
                        required
                        v-model="contactFormData.inquiryDepartment"
                        name="inquiry"
                      >
                        <option>Sales</option>
                        <option>Billing</option>
                        <option>Support</option>
                        <option>Other</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="col-span-12">
                  <div>
                    <label class="block text-[18px] p-2" for="message"
                      >Your question or comments</label
                    >
                    <ClientOnly>
                      <textarea
                        class="rounded-[10px] text-[#000] w-full border border-solid border-[#0F132A80] p-2 outline-none"
                        required
                        name="message"
                        v-model="contactFormData.questionsOrComments"
                      >
                      </textarea>
                    </ClientOnly>
                  </div>
                </div>
                <div class="col-span-12 flex">
                  <input class="mr-3" type="checkbox" required name="consent"
                  v-model="contactFormData.receiveSalesCommunications"
                  />
                  <label for="consent">
                    I give my consent to receiving sales communications related
                    to my inquiry.*
                  </label>
                </div>
                <div class="col-span-12">
                  <p class="mb-3">
                    We occasionally wish to reach out to you regarding our
                    products, services,<br class="sm:flex hidden" />
                    and other content that might interest you. If you agree to
                    be contacted for <br class="sm:flex hidden" />
                    this purpose, please select your preferred method of
                    communication <br class="sm:flex hidden" />
                    below:
                  </p>
                  <div class="flex mb-3">
                    <input
                      class="mr-3"
                      type="checkbox"
                      name="newsletter"
                      v-model="contactFormData.newsletter"
                    />
                    <label for="newsletter"> Monthly Newsletter </label>
                  </div>
                  <div class="flex mb-3">
                    <input
                      class="mr-3"
                      type="checkbox"
                      name="promotion-offers"
                      v-model="contactFormData.promotionOffers"
                    />
                    <label for="promotion-offers">
                      Special Promotions & Offers
                    </label>
                  </div>
                  <div class="flex mb-3">
                    <input
                      class="mr-3"
                      type="checkbox"
                      name="products"
                      v-model="contactFormData.releaseNewProducts"
                    />
                    <label for="products"> Release of New Products </label>
                  </div>
                  <div class="flex mb-3">
                    <input
                      class="mr-3"
                      type="checkbox"
                      name="events"
                      v-model="contactFormData.events"
                    />
                    <label for="events"> Events </label>
                  </div>
                  <p>
                    You can unsubscribe from these communications at any time.
                    <br class="sm:flex hidden" />To learn more about how to
                    unsubscribe, our privacy practices, and our
                    <br class="sm:flex hidden" />commitment to safeguarding your
                    privacy, please refer to our Privacy Policy.
                  </p>
                </div>
                <div class="col-span-12 text-left">
                  <button
                    class="text-center text-white mt-5 bg-[#5564AD] flex justify-center rounded-[10px] px-9 py-3 Mulish-Black font-black"
                    type="submit"
                    :disabled="loading"
                  >
                    <img
                      v-if="loading"
                      src="~/assets/images/loading.svg"
                      class="animate-spin loading-spinner w-6 h-6 flex m-auto"
                      alt="loading"
                    />
                    <span v-else class="set-roxborough"> Submit </span>
                  </button>
                </div>
                <div class="col-span-12 text-left">
                  <span class="text-green-700 font-bold">{{ responseMessageSuccess }}</span>
                  <span class="text-red-800 font-bold">{{ responseMessageError }}</span>
                </div>
              </div>
            </form>
            <div v-else class="container-success-response">
              <svg xmlns="http://www.w3.org/2000/svg" class="svg-success" viewBox="0 0 24 24">
                <g stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                  <circle class="success-circle-outline" cx="12" cy="12" r="11.5"/>
                  <circle class="success-circle-fill" cx="12" cy="12" r="11.5"/>
                  <polyline class="success-tick" points="17,8.5 9.5,15.5 7,13"/>
                </g>
              </svg>
            </div>
            <div v-if="sendSuccess">
              <p class="mb-4 text-center">
                We appreciate you reaching out to us. Your message has been received, <br class="sm:flex hidden" />  and a member of our team will get back to you as soon as possible. <br class="sm:flex hidden" />If your inquiry is urgent, feel free to reach us directly at <br class="sm:flex hidden" />00961 (70) 153115 or support@host2media.com.
              </p>
              <p class="mb-4 text-center">
                At Host2Media, we're committed to providing top-notch hosting services,<br class="sm:flex hidden" /> and we're here to assist you with any questions or concerns.
              </p>
              <p class="mb-4 text-center">
                Thank you for choosing Host2Media!
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup lang="ts">
const loading = ref(false);
const responseMessageSuccess = ref('');
const responseMessageError = ref('');
const sendSuccess = ref(false);
const mail = useMail();
const contactFormData = ref({
  name: "",
  lastName: "",
  companyName: "",
  phoneNumber: "",
  email: "",
  inquiryDepartment: "",
  questionsOrComments: "",
  receiveSalesCommunications: false,
  newsletter: false,
  promotionOffers: false,
  releaseNewProducts: false,
  events: false,
} as {
  name: string;
  lastName: string;
  companyName: string;
  phoneNumber: string;
  email: string;
  inquiryDepartment: string;
  questionsOrComments: string;
  receiveSalesCommunications: boolean;
  newsletter: boolean;
  promotionOffers: boolean;
  releaseNewProducts: boolean;
  events: boolean;
});
const { executeRecaptcha } = useGoogleRecaptcha()

const submitContactUsForm = async () => {
  const { token } = await executeRecaptcha('submit');
  console.log(token)
  try {
    loading.value = true;
    await mail.send({
      from: "Host2Media",
      subject: "Contact Form Info",
      text: `
        name: ${contactFormData.value.name},
        lastName: ${contactFormData.value.lastName},
        companyName: ${contactFormData.value.companyName},
        phoneNumber: ${contactFormData.value.phoneNumber},
        email: ${contactFormData.value.email},
        inquiryDepartment: ${contactFormData.value.inquiryDepartment},
        questionsOrComments: ${contactFormData.value.questionsOrComments},
        receiveSalesCommunications: ${contactFormData.value.receiveSalesCommunications},
        newsletter: ${contactFormData.value.newsletter},
        promotionOffers: ${contactFormData.value.promotionOffers},
        releaseNewProducts: ${contactFormData.value.releaseNewProducts},
        events: ${contactFormData.value.events},
      `,
    });
    loading.value = false;
    responseMessageSuccess.value = 'Submitted Succefully';
    sendSuccess.value = true;
  } catch (error){
    responseMessageError.value = 'Something went wrong, Please try again later'
    sendSuccess.value = false;
  }
};
</script>
